<!DOCTYPE html>
<head>
  <title>Cover Voucher System</title>
  <style>
    
  </style>
</head>
<body>
  <div id="header-container">
    <h1>Cover Voucher System 1.0</h1>
    <h5>Type a command to start (or !help to show command list)</h5><br>
  </div><br>
  <div id="display-container">
    Commands will show here
  </div><br>
  <div id="input-container">
    <input type="text" id="command-input" placeholder="Type you command here...">
  </div>
 <script>
  const input = document.getElementById("command-input");
  const display = document.getElementById("display-container");

  // Command router (register your commands here)
  const commands = {
    '!help': showHelp,
    '!leaderboard': showLeaderboard,
    '!vouch': handleVouchCommand // This needs special parsing
  };

  input.addEventListener("keypress", function (e) {
    if (e.key === "Enter") {
      const commandText = input.value.trim();
      input.value = "";
      parseCommand(commandText);
    }
  });

  function parseCommand(cmd) {
    log("> " + cmd);

    if (cmd.startsWith("!vouch-")) {
      const userId = cmd.split("!vouch-")[1];
      if (!userId) return log("âŒ Please include a user (e.g., !vouch-user123)");
      handleVouch(userId);
      return;
    }

    if (commands[cmd]) {
      commands[cmd]();
    } else {
      log("âŒ Unknown command. Type !help");
    }
  }

  function handleVouch(userId) {
    log(`âœ… Vouching for ${userId}...`);
    // TODO: Replace this with Firebase Firestore logic
    // Increment userâ€™s vouch count in the database
  }

  function showLeaderboard() {
    log("ğŸ“Š Showing leaderboard...");
    // TODO: Replace this with Firebase fetch and sort
  }

  function showHelp() {
    log(`ğŸ“ Available Commands:
!vouch-<userId> â€“ Vouch for a user
!leaderboard â€“ Show top users
!help â€“ Show this list`);
  }

  function log(message) {
    display.innerHTML += `<div>${message}</div>`;
    display.scrollTop = display.scrollHeight;
  }
</script>
</body>
